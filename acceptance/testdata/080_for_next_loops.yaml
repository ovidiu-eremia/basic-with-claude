tests:
  - name: "BasicForLoop"
    program: |
      10 FOR I = 1 TO 5
      20 PRINT I
      30 NEXT I
    expected:
      - "1\n"
      - "2\n"
      - "3\n"
      - "4\n"
      - "5\n"

  - name: "ForLoopWithoutVariableInNext"
    program: |
      10 FOR X = 0 TO 3
      20 PRINT X
      30 NEXT
    expected:
      - "0\n"
      - "1\n"
      - "2\n"
      - "3\n"

  # Commented out until STEP support is implemented (Step 13)
  # Zero iteration loops require more sophisticated control flow 
  #- name: "ForLoopZeroIterations"
  #  program: |
  #    10 FOR I = 5 TO 3
  #    20 PRINT I
  #    30 NEXT I
  #    40 PRINT "AFTER LOOP"
  #  expected:
  #    - "AFTER LOOP\n"

  - name: "ForLoopSingleIteration"
    program: |
      10 FOR I = 7 TO 7
      20 PRINT I
      30 NEXT I
    expected:
      - "7\n"

  - name: "ForLoopWithVariableExpression"
    program: |
      10 A = 2
      20 B = 4
      30 FOR I = A TO B
      40 PRINT I * 10
      50 NEXT I
    expected:
      - "20\n"
      - "30\n"
      - "40\n"

  - name: "NestedForLoops"
    program: |
      10 FOR I = 1 TO 2
      20 FOR J = 1 TO 2
      30 PRINT I
      40 PRINT J
      50 NEXT J
      60 NEXT I
    expected:
      - "1\n"
      - "1\n"
      - "1\n"
      - "2\n"
      - "2\n"
      - "1\n"
      - "2\n"
      - "2\n"

  - name: "ForLoopWithStatements"
    program: |
      10 PRINT "BEFORE LOOP"
      20 FOR I = 1 TO 3
      30 PRINT I
      40 A = I * 2
      50 PRINT A
      60 NEXT I
      70 PRINT "AFTER LOOP"
    expected:
      - "BEFORE LOOP\n"
      - "1\n"
      - "2\n"
      - "2\n"
      - "4\n"
      - "3\n"
      - "6\n"
      - "AFTER LOOP\n"